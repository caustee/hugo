---
date: "2025-11-18T00:00:00Z"
title: BGP core memory
---

So recently I had to play with BGP after a very long time. I have a router that connects to external via an eBGP session. It gets default route from there and it advertises the originating prefixes. All worked great until I wanted to advertise a new /24 subnet.

The problem was that I have this subnet split into many /27s on different SVIs, and even though I've included it in the prefix-list to be advertised over the BGP session, this would not come up.

And this happend because of rule that says the routes should be part of RIB table, otherwise they're not advertised. [A common issue](https://community.cisco.com/t5/routing/advertise-prefix-which-isnt-in-rib/td-p/4885536). Now, I vaguely remembered the static route to null0 so that you trick the BGP to believe the route is part of RIB, but in my case it didn't work.
So what I ended up doing was to advertise a summary:

```
router(config-bgp)# vrf Test
router(config-bgp-vrf)# address-family ipv4 unicast
router(config-bgp-vrf-ipv4-uc)#  aggregate-address 10.10.10.0/24 summary-only
router(config-bgp-vrf-ipv4-uc)# end
```

This way my route was added in the prefixes sent over the BGP. Feels good to still be able to fix BGP after almost a decade :) 
